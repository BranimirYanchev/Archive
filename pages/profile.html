<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alma-Chronicles</title>

    <!-- Favicon -->
    <link rel="shortcut icon" href="../images/logo.png" type="image/x-icon">

    <!-- CSS -->
    <link rel="stylesheet" href="../styles/main.css">
    <link rel="stylesheet" href="../styles/profile.css">

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.7.1.slim.min.js"integrity="sha256-kmHvs0B+OpCW5GVHUNjv9rOmY0IvSIRcf7zGUDTDQM8=" crossorigin="anonymous"></script>

    <!-- External CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <!-- Add Font Awesome CDN -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
</head>

<body>
    <div class="preloader-container d-flex justify-content-center align-items-center">
        <div class="preloader" id="preloader"></div>
    </div>

    <main>
        <h1>Profile and Archives Management</h1>
        <div class="container">
            <!-- Profile Section -->
            <section id="profile-section">
                <h2>Edit Profile</h2>
                <form id="profile-form">
                    <label for="profile-pic">Profile Picture</label>
                    <input type="file" id="profile-pic" accept="image/*">
    
                    <label for="first-name">First Name</label>
                    <input type="text" id="first-name" placeholder="Enter first name">
    
                    <label for="last-name">Last Name</label>
                    <input type="text" id="last-name" placeholder="Enter last name">
    
                    <label for="email">Email</label>
                    <input type="email" id="email" placeholder="Enter email">
    
                    <label for="class">Class</label>
                    <input type="text" id="class" placeholder="Enter class">
    
                    <button type="button" onclick="saveProfile()">Save Profile</button>
                </form>
            </section>
    
            <!-- Archives Section -->
            <section id="archives-section" class="archives">
                <h2>Manage Archives</h2>
                <form id="archive-form">
                    <label for="archive-title">Title</label>
                    <input type="text" id="archive-title" placeholder="Enter archive title">
    
                    <label for="archive-image">Image</label>
                    <input type="file" id="archive-image" accept="image/*">
    
                    <label for="archive-date">Date</label>
                    <input type="date" id="archive-date">
    
                    <label for="archive-description">Description</label>
                    <textarea id="archive-description" rows="5" placeholder="Enter description (links, images, videos allowed)"></textarea>
    
                    <button type="button" onclick="addArchive()">Add Archive</button>
                </form>
    
                <div id="archive-list">
                    <!-- Dynamically generated archive items will go here -->
                </div>
            </section>
        </div>
    
        <script>
            function saveProfile() {
                const profilePic = document.getElementById('profile-pic').files[0]?.name || 'No file selected';
                const firstName = document.getElementById('first-name').value;
                const lastName = document.getElementById('last-name').value;
                const email = document.getElementById('email').value;
                const userClass = document.getElementById('class').value;
    
                alert(`Profile saved:\n- Picture: ${profilePic}\n- Name: ${firstName} ${lastName}\n- Email: ${email}\n- Class: ${userClass}`);
            }
    
            function addArchive() {
                const title = document.getElementById('archive-title').value;
                const image = document.getElementById('archive-image').files[0]?.name || 'No image';
                const date = document.getElementById('archive-date').value;
                const description = document.getElementById('archive-description').value;
    
                if (!title || !date || !description) {
                    alert('Title, date, and description are required!');
                    return;
                }
    
                const archiveList = document.getElementById('archive-list');
    
                const archiveItem = document.createElement('div');
                archiveItem.classList.add('archive-item');
    
                archiveItem.innerHTML = `
                    <h3>${title}</h3>
                    <p><strong>Date:</strong> ${date}</p>
                    <p><strong>Image:</strong> ${image}</p>
                    <p>${description}</p>
                `;
    
                archiveList.appendChild(archiveItem);
    
                // Clear the form
                document.getElementById('archive-form').reset();
            }
        </script>
    </main>

    <script>
        if(sessionStorage.getItem("email") == null){
            window.open('forms.html', '_self')
        }
    </script>
  <!-- ***** Header Area End ***** -->

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.js"></script>
  <script src="../scripts/preloader.js"></script>
  <script src="../scripts/navbar.js"></script>
  <script src="../scripts/forms.js"></script>
  <!-- Bootstrap JS and dependencies -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>  
</body>

</html>